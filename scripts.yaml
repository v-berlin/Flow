# Flow - Increase Goal
flow_increase_goal:
  alias: "Flow - Increase Goal"
  mode: single
  sequence:
    - service: input_number.set_value
      target:
        entity_id: input_number.flow_daily_goal
      data:
        value: "{{ [states('input_number.flow_daily_goal') | int + 5, 1440] | min }}"

# Flow - Decrease Goal
flow_decrease_goal:
  alias: "Flow - Decrease Goal"
  mode: single
  sequence:
    - service: input_number.set_value
      target:
        entity_id: input_number.flow_daily_goal
      data:
        value: "{{ [states('input_number.flow_daily_goal') | int - 5, 0] | max }}"

# Flow - Reset Day
flow_reset_day:
  alias: "Flow - Reset Day"
  mode: single
  sequence:
    - service: input_number.set_value
      target:
        entity_id: input_number.flow_time_tracked_today
      data:
        value: 0
    - service: input_boolean.turn_off
      target:
        entity_id:
          - input_boolean.flow_timer_active
          - input_boolean.flow_cat_work
          - input_boolean.flow_cat_privat
          - input_boolean.flow_cat_coding
          - input_boolean.flow_cat_design
          - input_boolean.flow_cat_engineering
    - service: input_text.set_value
      target:
        entity_id: input_text.flow_active_category
      data:
        value: "Keine"
    - service: persistent_notification.create
      data:
        title: "üîÑ Reset"
        message: "Tag wurde zur√ºckgesetzt"

# Flow - Manual Add Time (Optional - f√ºgt manuell Zeit hinzu)
flow_add_time:
  alias: "Flow - Add Time Manually"
  mode: single
  fields:
    minutes:
      description: "Minuten die hinzugef√ºgt werden sollen"
      example: 30
      required: true
      selector:
        number:
          min: 1
          max: 480
          mode: box
  sequence:
    - service: input_number.set_value
      target:
        entity_id: input_number.flow_time_tracked_today
      data:
        value: "{{ [states('input_number.flow_time_tracked_today') | int + (minutes | int(0)), 1440] | min }}"
    - service: persistent_notification.create
      data:
        title: "‚ûï Zeit hinzugef√ºgt"
        message: "{{ minutes | int(0) }} Minuten wurden manuell hinzugef√ºgt"